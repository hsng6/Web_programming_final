<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì¸ìˆ– - ë§ˆì´í˜ì´ì§€</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <header>
        <a href="index.html" class="logo">
            <h1>ì¸ìˆ–</h1>
        </a>
        <nav>
            <a href="index.html">í™ˆ</a>
            <a href="ai-fit.html" class="ai-fit-link">ğŸ¤– AI í•</a>
            <a href="mypage.html">ë§ˆì´í˜ì´ì§€</a>
            <a href="orders.html">ì£¼ë¬¸ë‚´ì—­</a>
            <a href="support.html">ê³ ê°ì„¼í„°</a>
            <a href="wishlist.html" class="wishlist-link">â¤ï¸ ì°œ</a>
            <a href="cart.html" class="cart-link">ğŸ›’ ì¥ë°”êµ¬ë‹ˆ</a>
            <button id="theme-toggle" class="theme-toggle" onclick="toggleTheme()">ğŸŒ™</button>
        </nav>
    </header>

    <main class="mypage-container">
        <h2>ë§ˆì´í˜ì´ì§€</h2>
        
        <section class="user-info-section">
            <h3>íšŒì› ì •ë³´</h3>
            <div class="info-card">
                <div class="info-row">
                    <span class="info-label">ì´ë¦„:</span>
                    <span class="info-value" id="user-name">í™ê¸¸ë™</span>
                    <button class="edit-btn" onclick="editUserInfo('name')">ìˆ˜ì •</button>
                </div>
                <div class="info-row">
                    <span class="info-label">ì´ë©”ì¼:</span>
                    <span class="info-value" id="user-email">user@example.com</span>
                    <button class="edit-btn" onclick="editUserInfo('email')">ìˆ˜ì •</button>
                </div>
                <div class="info-row">
                    <span class="info-label">ì „í™”ë²ˆí˜¸:</span>
                    <span class="info-value" id="user-phone">010-1234-5678</span>
                    <button class="edit-btn" onclick="editUserInfo('phone')">ìˆ˜ì •</button>
                </div>
                <div class="info-row">
                    <span class="info-label">ì£¼ì†Œ:</span>
                    <span class="info-value" id="user-address">ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123</span>
                    <button class="edit-btn" onclick="editUserInfo('address')">ìˆ˜ì •</button>
                </div>
            </div>
        </section>

        <section class="quick-links-section">
            <h3>ë¹ ë¥¸ ë©”ë‰´</h3>
            <div class="quick-links-grid">
                <a href="orders.html" class="quick-link-card">
                    <div class="quick-link-icon">ğŸ“¦</div>
                    <div class="quick-link-title">ì£¼ë¬¸ë‚´ì—­</div>
                    <div class="quick-link-desc">ì£¼ë¬¸ ë° ë°°ì†¡ì¡°íšŒ</div>
                </a>
                <a href="cart.html" class="quick-link-card">
                    <div class="quick-link-icon">ğŸ›’</div>
                    <div class="quick-link-title">ì¥ë°”êµ¬ë‹ˆ</div>
                    <div class="quick-link-desc">ë‹´ê¸´ ìƒí’ˆ í™•ì¸</div>
                </a>
                <a href="support.html" class="quick-link-card">
                    <div class="quick-link-icon">ğŸ’¬</div>
                    <div class="quick-link-title">ê³ ê°ì„¼í„°</div>
                    <div class="quick-link-desc">1:1 ë¬¸ì˜í•˜ê¸°</div>
                </a>
                <a href="#" class="quick-link-card" onclick="alert('ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.'); return false;">
                    <div class="quick-link-icon">â­</div>
                    <div class="quick-link-title">ì°œ ëª©ë¡</div>
                    <div class="quick-link-desc">ê´€ì‹¬ ìƒí’ˆ ë³´ê¸°</div>
                </a>
            </div>
        </section>

        <section class="stats-section">
            <h3>ë‚˜ì˜ í™œë™</h3>
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-number" id="total-orders">0</div>
                    <div class="stat-label">ì´ ì£¼ë¬¸</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="total-reviews">0</div>
                    <div class="stat-label">ì‘ì„± ë¦¬ë·°</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="cart-items">0</div>
                    <div class="stat-label">ì¥ë°”êµ¬ë‹ˆ</div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 ì¸ìˆ–. All rights reserved.</p>
    </footer>

    <script src="main.js"></script>
    <script>
        // Load theme on page load
        function loadTheme() {
            const isDark = localStorage.getItem('theme') === 'dark';
            if (isDark) {
                document.body.classList.add('dark-mode');
                document.getElementById('theme-toggle').textContent = 'â˜€ï¸';
            }
        }

        function toggleTheme() {
            document.body.classList.toggle('dark-mode');
            const isDark = document.body.classList.contains('dark-mode');
            localStorage.setItem('theme', isDark ? 'dark' : 'light');
            document.getElementById('theme-toggle').textContent = isDark ? 'â˜€ï¸' : 'ğŸŒ™';
        }

        // Load user statistics
        document.addEventListener('DOMContentLoaded', function() {
            loadTheme();
            
            // Load user info from localStorage
            const userInfo = JSON.parse(localStorage.getItem('userInfo')) || {
                name: 'í™ê¸¸ë™',
                email: 'user@example.com',
                phone: '010-1234-5678',
                address: 'ì„œìš¸ì‹œ ê°•ë‚¨êµ¬ í…Œí—¤ë€ë¡œ 123'
            };

            document.getElementById('user-name').textContent = userInfo.name;
            document.getElementById('user-email').textContent = userInfo.email;
            document.getElementById('user-phone').textContent = userInfo.phone;
            document.getElementById('user-address').textContent = userInfo.address;

            // Load statistics
            const orders = JSON.parse(localStorage.getItem('orders')) || [];
            document.getElementById('total-orders').textContent = orders.length;

            const cart = JSON.parse(localStorage.getItem('cart')) || [];
            document.getElementById('cart-items').textContent = cart.length;

            // Count total reviews
            let totalReviews = 0;
            PRODUCTS.forEach(product => {
                const reviews = JSON.parse(localStorage.getItem(`reviews_${product.id}`)) || [];
                totalReviews += reviews.length;
            });
            document.getElementById('total-reviews').textContent = totalReviews;
        });

        function editUserInfo(field) {
            const userInfo = JSON.parse(localStorage.getItem('userInfo')) || {};
            const fieldNames = {
                name: 'ì´ë¦„',
                email: 'ì´ë©”ì¼',
                phone: 'ì „í™”ë²ˆí˜¸',
                address: 'ì£¼ì†Œ'
            };

            const newValue = prompt(`ìƒˆë¡œìš´ ${fieldNames[field]}ì„(ë¥¼) ì…ë ¥í•˜ì„¸ìš”:`, userInfo[field]);
            
            if (newValue && newValue.trim()) {
                userInfo[field] = newValue.trim();
                localStorage.setItem('userInfo', JSON.stringify(userInfo));
                document.getElementById(`user-${field}`).textContent = newValue.trim();
                alert('ì •ë³´ê°€ ìˆ˜ì •ë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }
    </script>
</body>
</html>
